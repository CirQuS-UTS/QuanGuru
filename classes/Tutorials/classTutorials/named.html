
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>named &#8212; QuanGuru 1 documentation</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/thebelab.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/style.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/gallery.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/thebelab-helper.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.1/dist/embed-amd.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="qBase" href="qBase.html" />
    <link rel="prev" title="keySearch" href="keySearch%26aliasDict.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    
<a class="navbar-brand" href="../../../index.html">
<p class="title">QuanGuru</p>
</a>

    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../1_Qubit/Tutorials.html">
  Classes Tutorials
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../QuantumToolbox.html">
  QuantumToolbox
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../../../classes.html">
  Classes (Objects for OOP, module to be renamed later)
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../QuantumToolbox/Tutorials/Tutorials.html">
  QuantumToolbox Tutorials
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar">
              <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../base.html">
   Base class
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../baseClasses.html">
   BaseClasses
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../QSimBase.html">
   QSimBase
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../QSimComp.html">
   QSimComp
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../QSystem.html">
   Quantum System Class
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../QTerm.html">
   Term Class
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../QSim.html">
   Simulation Class
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../QPro.html">
   QProtocol Classes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../QRes.html">
   Results Classes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../QSweep.html">
   Sweep Classes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../QGates.html">
   QGates Classes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../environment.html">
   Environment Classes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../QDrive.html">
   QDrive Classes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../exceptions.html">
   Exceptions
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../extensions.html">
   Extensions
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../modularSweep.html">
     Modular arithmetic sweep
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../couplings.html">
     Common Couplings
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../QSys.html">
   Old version of Quantum System Classes
  </a>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="DevTutorials.html">
   Dev-Demos
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="aliasClass.html">
     <code class="docutils literal notranslate">
      <span class="pre">
       aliasClass
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="keySearch%26aliasDict.html">
     <code class="docutils literal notranslate">
      <span class="pre">
       keySearch
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     named
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="qBase.html">
     <code class="docutils literal notranslate">
      <span class="pre">
       qBase
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="updateBase.html">
     updateBase
    </a>
   </li>
  </ul>
 </li>
</ul>

  </div>
</nav>
              </div>
              <div class="sidebar-end-items">
              </div>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                

<nav id="bd-toc-nav">
    
</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt .copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">quanguru</span> <span class="k">as</span> <span class="nn">qg</span>
</pre></div>
</div>
</div>
<section id="named">
<h1>named<a class="headerlink" href="#named" title="Permalink to this headline">#</a></h1>
<p>All the objects that are created/needed by the user have unique default names and user defined aliases, and the <code class="docutils literal notranslate"><span class="pre">named</span></code> class implement these two.</p>
<p>There can be any number of alias to a <code class="docutils literal notranslate"><span class="pre">named</span></code> object, but the aliases still need to be unique to that object, i.e. two objects cannot have the same alias, even if they have other aliases that are different.</p>
<p><code class="docutils literal notranslate"><span class="pre">named</span></code> class uses its name mangled <code class="docutils literal notranslate"><span class="pre">_named__name</span></code> attribute (which is an instance of <code class="docutils literal notranslate"><span class="pre">aliasClass</span></code>) to store its name and aliases. Since <code class="docutils literal notranslate"><span class="pre">aliasClass</span></code> already ensures that the name cannot be changed, <code class="docutils literal notranslate"><span class="pre">named</span></code> class is simply responsible for creating a unique name for it during instantiation. See below examples for how these names are created.</p>
<p>Additionally, a weak-reference to all <code class="docutils literal notranslate"><span class="pre">named</span></code> instances are stored in an attribute <code class="docutils literal notranslate"><span class="pre">_allInstacesDict</span></code> (as class attribute), which is an instance of <code class="docutils literal notranslate"><span class="pre">aliasDict</span></code>, and we use the object names as the keys. Object names are also used as dictionary keys in various other parts of the library. In such cases, the those dictionaries, such as <code class="docutils literal notranslate"><span class="pre">subSys</span></code>, <code class="docutils literal notranslate"><span class="pre">_paramBound</span></code>, and <code class="docutils literal notranslate"><span class="pre">allResults</span></code>, are all instances of <code class="docutils literal notranslate"><span class="pre">aliasDict</span></code>. This approach enables us to give either the name or any alias of an object
(both are strings) as a key to the dictionary when we are retrieving it. See below examples for more.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># create a named and check its name</span>
<span class="n">n1</span> <span class="o">=</span> <span class="n">qg</span><span class="o">.</span><span class="n">named</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">n1</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

<span class="c1"># also note that the string representation of a named object is its name</span>
<span class="c1"># so we can also directly print</span>
<span class="nb">print</span><span class="p">(</span><span class="n">n1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
named1
named1
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># name property has only the getter, no setter</span>
<span class="c1"># this will give an &#39;AttributeError&#39; error</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">n1</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;new name&quot;</span>
<span class="k">except</span> <span class="ne">AttributeError</span> <span class="k">as</span> <span class="n">a</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

<span class="c1"># NEVER change the name mangled attribute directly</span>
<span class="c1"># below will break many functionalities of the library</span>
<span class="n">n2</span> <span class="o">=</span> <span class="n">qg</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">named</span><span class="p">()</span>
<span class="n">n2</span><span class="o">.</span><span class="n">_named__name</span> <span class="o">=</span> <span class="s2">&quot;new name&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">n2</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="c1"># because this breaks the composition inside the named</span>
<span class="c1"># meaning that the _named__name attribute is no longer an aliasClass, but a simple string</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
can&#39;t set attribute &#39;name&#39;
new name
</pre></div></div>
</div>
<p>The names are created by using the class attribute <code class="docutils literal notranslate"><span class="pre">label</span></code> and the number of instances, which is again stored in class attributes.</p>
<p><code class="docutils literal notranslate"><span class="pre">label</span></code> are always the same as class name. Therefore, for the above example, <code class="docutils literal notranslate"><span class="pre">n1</span></code> is the first <code class="docutils literal notranslate"><span class="pre">named</span></code> created,and its name is</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">named.label + named._externalInstances -&gt; &quot;named&quot; + 1</span>
</pre></div>
</div>
<p>Here, the class attribute <code class="docutils literal notranslate"><span class="pre">_externalInstances</span></code> means that <code class="docutils literal notranslate"><span class="pre">n1</span></code> is created externally by a user. <code class="docutils literal notranslate"><span class="pre">QuanGuru</span></code> also creates some objects internally to provide certain functionalities as well as house-keeping. Therefore, we distinguish between these, and the user does not need to know how many internal objects are created. For internal objects, the name is calculated as</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">&quot;_&quot; + named.label + named._internalInstances</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">_</span></code> in the beginning is again to distinguish between internal and external instances, because names need to be unique for any <code class="docutils literal notranslate"><span class="pre">named</span></code> instance regardless it is internal or external.</p>
<p>Internally created objects are also labelled with a boolean stored inside the <code class="docutils literal notranslate"><span class="pre">_internal</span></code> attribute. We simply set this boolean to <code class="docutils literal notranslate"><span class="pre">True</span></code> when we create an internal object.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># create an internal object</span>
<span class="n">ni</span> <span class="o">=</span> <span class="n">qg</span><span class="o">.</span><span class="n">named</span><span class="p">(</span><span class="n">_internal</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1">#print its name. first internal named object so -&gt; _ + named + 1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ni</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
_named1
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># note that internal has to be a boolean type.</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">qg</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">named</span><span class="p">(</span><span class="n">_internal</span><span class="o">=</span><span class="s2">&quot;not a bool&quot;</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">TypeError</span> <span class="k">as</span> <span class="n">te</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">te</span><span class="p">)</span>

<span class="c1"># 0 means False, but 0 is not a boolean, so it also fails, because _internal expect a boolean type</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">qg</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">named</span><span class="p">(</span><span class="n">_internal</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">TypeError</span> <span class="k">as</span> <span class="n">te</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">te</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
_internal should be an instance of &lt;class &#39;bool&#39;&gt;, &lt;class &#39;NoneType&#39;&gt;, but &lt;class &#39;str&#39;&gt; is given
_internal should be an instance of &lt;class &#39;bool&#39;&gt;, &lt;class &#39;NoneType&#39;&gt;, but &lt;class &#39;int&#39;&gt; is given
</pre></div></div>
</div>
<p>As mentioned above a weak-reference to every <code class="docutils literal notranslate"><span class="pre">named</span></code> instance is stored in <code class="docutils literal notranslate"><span class="pre">_allInstacesDict</span></code> with objects name as the key. This is the enabling idea behind the <code class="docutils literal notranslate"><span class="pre">getByNameOrAlias</span></code> function/ality.</p>
<p>In order to demonstrate <code class="docutils literal notranslate"><span class="pre">getByNameOrAlias</span></code> and <code class="docutils literal notranslate"><span class="pre">_allInstacesDict</span></code>. Let’s first see how we set aliases to objects.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># we can add a single of a list of aliases during instantiation</span>
<span class="n">nAlias1</span> <span class="o">=</span> <span class="n">qg</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">named</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;single alias&quot;</span><span class="p">)</span>
<span class="n">nAlias2</span> <span class="o">=</span> <span class="n">qg</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">named</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;li1&quot;</span><span class="p">,</span> <span class="s2">&quot;li2&quot;</span><span class="p">])</span>
<span class="c1"># alias need to be unique</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">qg</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">named</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;single alias&quot;</span><span class="p">])</span>
<span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">te</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">te</span><span class="p">,</span> <span class="n">nAlias1</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">qg</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">named</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;li1&quot;</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">te</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">te</span><span class="p">,</span> <span class="n">nAlias2</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Given alias (single alias) already exist and is assigned to: named3 named3
Given alias (li1) already exist and is assigned to: named4 named4
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># or we can add alias/es after instantiation</span>

<span class="n">nAlias3</span> <span class="o">=</span> <span class="n">qg</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">named</span><span class="p">()</span>

<span class="n">nAlias3</span><span class="o">.</span><span class="n">alias</span> <span class="o">=</span> <span class="s2">&quot;first alias&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">nAlias3</span><span class="o">.</span><span class="n">alias</span><span class="p">)</span>
<span class="c1"># NOTE THAT ALIASES DOES NOT HAVE TO BE A STRING.</span>
<span class="c1"># we want to provide this flexibility, but strings should be preferred unless there is a good reason</span>
<span class="c1"># so let&#39;s give a dictionary as an alias</span>
<span class="n">nAlias3</span><span class="o">.</span><span class="n">alias</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}]</span> <span class="c1"># also NOTE that this alias setter adds to aliases not replace</span>
<span class="nb">print</span><span class="p">(</span><span class="n">nAlias3</span><span class="o">.</span><span class="n">alias</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;first alias&#39;]
[&#39;first alias&#39;, &#39;2&#39;, {&#39;a&#39;: 1, &#39;b&#39;: 2}]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># if want to truly replace an alias, we can call alias getter</span>
<span class="c1"># which returns the alias list, and we can use usual list methods to modify the aliases</span>
<span class="c1"># see also aliasClass tutorial</span>

<span class="c1"># append an alias</span>
<span class="n">nAlias3</span><span class="o">.</span><span class="n">alias</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;new alias&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">nAlias3</span><span class="o">.</span><span class="n">alias</span><span class="p">)</span>

<span class="c1"># remove an alias</span>
<span class="n">nAlias3</span><span class="o">.</span><span class="n">alias</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s2">&quot;2&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">nAlias3</span><span class="o">.</span><span class="n">alias</span><span class="p">)</span>

<span class="c1"># change the alias a specific index</span>
<span class="n">nAlias3</span><span class="o">.</span><span class="n">alias</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">nAlias3</span><span class="o">.</span><span class="n">alias</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;first alias&#39;, &#39;2&#39;, {&#39;a&#39;: 1, &#39;b&#39;: 2}, &#39;new alias&#39;]
[&#39;first alias&#39;, {&#39;a&#39;: 1, &#39;b&#39;: 2}, &#39;new alias&#39;]
[1, {&#39;a&#39;: 1, &#39;b&#39;: 2}, &#39;new alias&#39;]
</pre></div></div>
</div>
<p>Notice that in above examples, we used the keyword <code class="docutils literal notranslate"><span class="pre">alias</span></code> or <code class="docutils literal notranslate"><span class="pre">name</span></code> both at instantiation and/or also after it, and these are not simply object attributes but properties (as might already be clear from above).</p>
<p><code class="docutils literal notranslate"><span class="pre">name</span></code> property has only a getter</p>
<p><code class="docutils literal notranslate"><span class="pre">alias</span></code> has both getter and setter.</p>
<p>We want them to be properties, because this enable us to implement further functionalities and side effects, which need to happen also during instantiation. For this purpose, we introduced and used <code class="docutils literal notranslate"><span class="pre">__setKwargs</span></code> method in every <code class="docutils literal notranslate"><span class="pre">__init__</span></code> method. <code class="docutils literal notranslate"><span class="pre">__setKwargs</span></code>, as the name suggests, sets these keyword arguments.</p>
<p>So far, we created many <code class="docutils literal notranslate"><span class="pre">named</span></code> instances, so let’s use <code class="docutils literal notranslate"><span class="pre">getByNameOrAlias</span></code> to obtain references to them.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># first lets print _allInstacesDict</span>
<span class="nb">print</span><span class="p">(</span><span class="n">n1</span><span class="o">.</span><span class="n">_allInstacesDict</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;named1&#39;: &lt;weakref at 0x10b0a24d0; to &#39;named&#39; at 0x10b04be80&gt;, &#39;named2&#39;: &lt;weakref at 0x106c722a0; to &#39;named&#39; at 0x10b0aed00&gt;, &#39;_named1&#39;: &lt;weakref at 0x1098473d0; to &#39;named&#39; at 0x10b0af0c0&gt;, &#39;named3&#39;: &lt;weakref at 0x10a0f2b10; to &#39;named&#39; at 0x10b0b4980&gt;, &#39;named4&#39;: &lt;weakref at 0x106beb920; to &#39;named&#39; at 0x10b0b4940&gt;, &#39;named7&#39;: &lt;weakref at 0x10b0a2520; to &#39;named&#39; at 0x10b0b6880&gt;}
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># we have weak-references together with names of the object in _allInstacesDict</span>
<span class="c1"># getByNameOrAlias uses this dictionary to return us a reference</span>
<span class="c1"># and we can use getByNameOrAlias on any object because _allInstacesDict is an class attribute</span>
<span class="c1"># get a reference to nAlias3 using its alias &quot;new alias&quot;</span>
<span class="n">newRef1</span> <span class="o">=</span> <span class="n">n1</span><span class="o">.</span><span class="n">getByNameOrAlias</span><span class="p">(</span><span class="s2">&quot;new alias&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">newRef1</span> <span class="ow">is</span> <span class="n">nAlias3</span><span class="p">)</span>

<span class="c1"># get a reference to first internal instance of named with its name _named1</span>
<span class="n">newRef2</span> <span class="o">=</span> <span class="n">n1</span><span class="o">.</span><span class="n">getByNameOrAlias</span><span class="p">(</span><span class="s2">&quot;_named1&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">newRef2</span> <span class="ow">is</span> <span class="n">ni</span><span class="p">)</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
True
True
</pre></div></div>
</div>
<p>In all the examples above, we already had a reference to each object, so the purpose of <code class="docutils literal notranslate"><span class="pre">getByNameOrAlias</span></code> method might not be clear. Firstly, it is useful when we want get a reference to an internally created object. More importantly, when we write <code class="docutils literal notranslate"><span class="pre">compute</span></code> or <code class="docutils literal notranslate"><span class="pre">calculate</span></code> functions (see later tutorials), if we use the existing references: - the simulations runs fine, if we are not doing multi-processing - if we are multi-processing, then we want to get a reference to pickled version of
the objects. Because the sweeps (see later tutorials) might have changed the values stored in the object, and this causes undefined behaviors.</p>
<p>Additionally, for the multi-processing support, any named instance should be pickled and loaded properly, and the below examples show that they do.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pickle</span>

<span class="n">nbefore</span> <span class="o">=</span> <span class="n">qg</span><span class="o">.</span><span class="n">named</span><span class="p">(</span><span class="n">_internal</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;t&quot;</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">])</span>
<span class="n">npickled</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">nbefore</span><span class="p">)</span>
<span class="n">nafter</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">npickled</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">nbefore</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">nafter</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">nbefore</span><span class="o">.</span><span class="n">alias</span> <span class="o">==</span> <span class="n">nafter</span><span class="o">.</span><span class="n">alias</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
True
True
</pre></div></div>
</div>
<p>Finally, if we want to empty the <code class="docutils literal notranslate"><span class="pre">_allInstacesDict</span></code> and reset all the instance counters to zero, we can simply use <code class="docutils literal notranslate"><span class="pre">resetAll</span></code> method on any <code class="docutils literal notranslate"><span class="pre">named</span></code> instance. This is useful, when we are working on a notebook and want to reset our objects without restarting the kernel.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># resetAll the object</span>
<span class="n">n1</span><span class="o">.</span><span class="n">_resetAll</span><span class="p">()</span>

<span class="c1"># create a new instance an its name should be named1 now</span>
<span class="n">newN1</span> <span class="o">=</span> <span class="n">qg</span><span class="o">.</span><span class="n">named</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">newN1</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

<span class="c1"># note that this does not mean n1 is destroyed/garbage-collected.</span>
<span class="c1"># we still have reference to it</span>
<span class="c1"># it is just no-longer accessible through the methods such as getByNameOrAlias</span>
<span class="nb">print</span><span class="p">(</span><span class="n">newN1</span> <span class="o">==</span> <span class="n">n1</span><span class="p">)</span>
<br/><br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
named1
False
</pre></div></div>
</div>
</section>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="keySearch%26aliasDict.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title"><code class="docutils literal notranslate"><span class="pre">keySearch</span></code></p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="qBase.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><code class="docutils literal notranslate"><span class="pre">qBase</span></code></p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>
<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2020, Cahit Kargi.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.5.0.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>